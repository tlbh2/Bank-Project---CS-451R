<!DOCTYPE html>
<html lang="en">
<body>

  <header>
    <%- include('partials/header') %>
  </header>

  <main class="container">
    <div id="signedIn" class="w-75 border border-3 rounded p-3 mx-auto">
    <div>
      <p id="banksMsg">You aren't connected to any banks yet. 🙁</p>
      <button type="button" class="btn btn-primary button-md my-2" id="connectToBank">Connect a bank!</button>
    </div>
    <div>
      <p id="statusMsg">Looking up your transactions</p>
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>Date</th>
            <th>Description</th>
            <th>Category</th>
            <th class="text-end">Amount</th>
            <th>Account</th>
          </tr>
        </thead>
        <tbody id="transactionTable"></tbody>
      </table>
      <div class="w-75 border border-1 p-2 rounded-2" id="deubgCalls">
        <p>Debug calls:</p>
        <button type="button" class="btn btn-outline-secondary button-md my-2" id="serverRefresh">Server
          refresh</button>
        <button type="button" class="btn btn-outline-secondary button-md my-2" id="clientRefresh">Client-side
          refresh</button>
        <button type="button" class="btn btn-outline-secondary button-md my-2" id="generateWebhook">Generate a
          webhook</button>
        <div>
          <select id="deactivateBankSelect"><option>--Pick one--</option></select>
          <button type="button" class="btn btn-warning button-md my-2" id="deactivateBank">Stop using this
            bank</button>
        </div>
      </div>
    </div>
    <button type="button" class="btn btn-danger my-3" id="signOut">Sign out</button>
    <div id="output"></div>
  </div>
  </main>

  <footer>
    <%- include('partials/footer') %>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>
  <script src="https://cdn.plaid.com/link/v2/stable/link-initialize.js"></script>
  <script type="module" src="/public/js/client.js"></script>

</body>

</html>

